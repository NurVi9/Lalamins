<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Quiz Sejarah Lengkap</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Poppins', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        :root {
            --primary-color: #1e3c72;
            --secondary-color: #2a5298;
            --accent-color: #4a77d4;
            --correct-color: #28a745;
            --incorrect-color: #dc3545;
            --text-color: #333;
            --bg-color: #f8f9fa;
            --container-bg: rgba(255, 255, 255, 0.95);
            --easy-color: #28a745;
            --medium-color: #ffc107;
            --hard-color: #dc3545;
        }
        
        .dark-mode {
            --primary-color: #4a77d4;
            --secondary-color: #2a5298;
            --accent-color: #1e3c72;
            --text-color: #f8f9fa;
            --bg-color: #121212;
            --container-bg: rgba(33, 33, 33, 0.95);
            --easy-color: #4caf50;
            --medium-color: #ff9800;
            --hard-color: #f44336;
        }
        
        body {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color), var(--accent-color));
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 15px;
            overflow-x: hidden;
            position: relative;
            color: var(--text-color);
            transition: background 0.5s ease;
        }
        
        .floating {
            animation: floating 3s ease-in-out infinite;
        }
        
        @keyframes floating {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        
        .container {
            background-color: var(--container-bg);
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            width: 100%;
            max-width: 700px;
            padding: 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
            transition: transform 0.3s, background-color 0.5s ease;
            margin-bottom: 15px;
        }
        
        .container:hover {
            transform: translateY(-5px);
        }
        
        .container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(to right, var(--primary-color), var(--secondary-color), var(--accent-color));
        }
        
        h1 {
            color: var(--primary-color);
            margin-bottom: 15px;
            font-size: 24px;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
            line-height: 1.3;
        }
        
        h2 {
            color: var(--primary-color);
            margin: 15px 0;
            font-size: 20px;
        }
        
        .subtitle {
            color: var(--text-color);
            margin-bottom: 20px;
            font-size: 16px;
            opacity: 0.8;
            line-height: 1.4;
        }
        
        .screen {
            display: none;
            animation: fadeIn 0.5s ease-in-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        #start-screen {
            display: block;
        }
        
        .btn {
            background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            margin: 10px;
            transition: transform 0.2s, box-shadow 0.2s;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            min-height: 44px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 15px rgba(0, 0, 0, 0.3);
        }
        
        .btn:active {
            transform: translateY(0);
        }
        
        .btn-back {
            background: linear-gradient(to right, var(--accent-color), var(--secondary-color));
            padding: 10px 18px;
            font-size: 14px;
        }
        
        .btn-easy {
            background: linear-gradient(to right, var(--easy-color), #4caf50);
        }
        
        .btn-medium {
            background: linear-gradient(to right, var(--medium-color), #ff9800);
        }
        
        .btn-hard {
            background: linear-gradient(to right, var(--hard-color), #f44336);
        }
        
        .external-back-btn {
            position: fixed;
            top: 15px;
            left: 15px;
            z-index: 100;
            padding: 8px 15px;
            font-size: 14px;
        }
        
        .option {
            display: block;
            width: 100%;
            padding: 14px;
            margin: 10px 0;
            background-color: var(--bg-color);
            border: 2px solid #dee2e6;
            border-radius: 10px;
            text-align: left;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 15px;
            position: relative;
            overflow: hidden;
            animation: fadeInOption 0.5s ease-out;
            animation-fill-mode: backwards;
            min-height: 50px;
            display: flex;
            align-items: center;
        }
        
        @keyframes fadeInOption {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }
        
        .option:hover {
            background-color: #e9ecef;
            transform: translateX(5px);
        }
        
        .option.selected {
            background-color: var(--accent-color);
            color: white;
            border-color: var(--secondary-color);
        }
        
        .option.correct {
            background-color: var(--correct-color);
            color: white;
            border-color: #1e7e34;
        }
        
        .option.incorrect {
            background-color: var(--incorrect-color);
            color: white;
            border-color: #c82333;
        }
        
        .progress {
            height: 10px;
            background-color: #e9ecef;
            border-radius: 8px;
            margin: 20px 0;
            overflow: hidden;
            box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
            width: 0%;
            transition: width 0.5s;
            border-radius: 8px;
        }
        
        .score-container {
            font-size: 22px;
            margin: 20px 0;
            color: var(--text-color);
        }
        
        .score {
            font-weight: bold;
            color: var(--primary-color);
            font-size: 28px;
        }
        
        .question-text {
            font-size: 18px;
            margin-bottom: 20px;
            color: var(--text-color);
            line-height: 1.4;
            word-wrap: break-word;
            overflow-wrap: break-word;
        }
        
        .question-number {
            color: #6c757d;
            margin-bottom: 12px;
            font-size: 16px;
        }
        
        .timer {
            font-size: 18px;
            font-weight: bold;
            color: var(--primary-color);
            margin: 12px 0;
        }
        
        .notification {
            position: fixed;
            top: 15px;
            right: 15px;
            left: 15px;
            padding: 12px 20px;
            border-radius: 8px;
            color: white;
            font-weight: bold;
            z-index: 1000;
            opacity: 0;
            transform: translateY(-100px);
            transition: opacity 0.3s, transform 0.3s;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            text-align: center;
            font-size: 14px;
        }
        
        .notification.show {
            opacity: 1;
            transform: translateY(0);
        }
        
        .notification.correct {
            background: linear-gradient(to right, var(--correct-color), #20c997);
        }
        
        .notification.incorrect {
            background: linear-gradient(to right, var(--incorrect-color), #fd7e14);
        }
        
        .category {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 18px;
            background-color: var(--accent-color);
            color: white;
            font-size: 13px;
            margin-bottom: 12px;
            font-weight: bold;
        }
        
        .difficulty-badge {
            display: inline-block;
            padding: 3px 10px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: bold;
            margin-left: 8px;
        }
        
        .difficulty-easy {
            background-color: var(--easy-color);
            color: white;
        }
        
        .difficulty-medium {
            background-color: var(--medium-color);
            color: black;
        }
        
        .difficulty-hard {
            background-color: var(--hard-color);
            color: white;
        }
        
        .history-icon {
            font-size: 50px;
            color: var(--primary-color);
            margin-bottom: 15px;
        }
        
        .result-details {
            margin: 15px 0;
            text-align: left;
            background-color: var(--bg-color);
            padding: 15px;
            border-radius: 10px;
            font-size: 14px;
        }
        
        .result-details h3 {
            color: var(--primary-color);
            margin-bottom: 12px;
            font-size: 18px;
        }
        
        .result-item {
            margin: 8px 0;
            display: flex;
            justify-content: space-between;
            border-bottom: 1px dashed #dee2e6;
            padding-bottom: 8px;
            font-size: 14px;
        }
        
        .badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 13px;
            font-weight: bold;
            margin-top: 8px;
        }
        
        .badge.correct {
            background-color: #d4edda;
            color: #155724;
        }
        
        .badge.incorrect {
            background-color: #f8d7da;
            color: #721c24;
        }
        
        .navigation {
            display: flex;
            justify-content: center;
            margin-top: 15px;
            flex-wrap: wrap;
        }
        
        .cloud {
            position: absolute;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            animation: moveCloud 20s linear infinite;
            z-index: -1;
        }
        
        @keyframes moveCloud {
            0% { transform: translateX(-100px); }
            100% { transform: translateX(calc(100vw + 100px)); }
        }
        
        /* New Styles for Additional Features */
        .lifeline-container {
            display: flex;
            justify-content: center;
            margin: 12px 0;
            flex-wrap: wrap;
        }
        
        .lifeline {
            background: linear-gradient(to right, var(--accent-color), var(--secondary-color));
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 13px;
            margin: 5px;
            transition: all 0.2s;
            min-height: 40px;
            display: flex;
            align-items: center;
        }
        
        .lifeline:hover {
            transform: scale(1.05);
        }
        
        .lifeline:disabled {
            background: #ccc;
            cursor: not-allowed;
        }
        
        .theme-toggle {
            position: fixed;
            top: 15px;
            right: 15px;
            background: var(--container-bg);
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            z-index: 100;
        }
        
        .confirmation-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s;
            padding: 15px;
        }
        
        .confirmation-modal.show {
            opacity: 1;
            visibility: visible;
        }
        
        .modal-content {
            background: var(--container-bg);
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            max-width: 400px;
            width: 100%;
            box-shadow: 0 5px 25px rgba(0, 0, 0, 0.2);
        }
        
        .modal-buttons {
            display: flex;
            justify-content: center;
            margin-top: 15px;
        }
        
        .modal-btn {
            margin: 0 8px;
            padding: 8px 16px;
            font-size: 14px;
        }
        
        .score-bar {
            display: flex;
            justify-content: space-between;
            margin-top: 12px;
            flex-wrap: wrap;
        }
        
        .score-level {
            flex: 1;
            min-width: 80px;
            text-align: center;
            padding: 4px;
            border-radius: 4px;
            margin: 2px;
            font-size: 11px;
            font-weight: bold;
        }
        
        .active-level {
            background: var(--accent-color);
            color: white;
        }
        
        .fact-container {
            margin: 15px 0;
            padding: 12px;
            background: var(--bg-color);
            border-radius: 8px;
            text-align: left;
            font-size: 14px;
        }
        
        .fact-title {
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 8px;
        }
        
        .celebration {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            pointer-events: none;
        }
        
        .confetti {
            position: absolute;
            width: 8px;
            height: 8px;
            background: #ff0;
            border-radius: 50%;
            animation: fall linear forwards;
        }
        
        @keyframes fall {
            to {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }
        
        /* New features styles */
        .difficulty-selector {
            display: flex;
            justify-content: center;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        .difficulty-btn {
            margin: 5px;
            min-width: 100px;
        }
        
        .hint-container {
            margin: 15px 0;
            padding: 12px;
            background: var(--bg-color);
            border-radius: 8px;
            text-align: left;
            display: none;
        }
        
        .hint-title {
            font-weight: bold;
            color: var(--accent-color);
            margin-bottom: 8px;
            display: flex;
            align-items: center;
        }
        
        .achievement-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            margin: 15px 0;
        }
        
        .achievement {
            width: 80px;
            height: 80px;
            margin: 8px;
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: var(--bg-color);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            position: relative;
        }
        
        .achievement i {
            font-size: 24px;
            margin-bottom: 5px;
        }
        
        .achievement.locked {
            opacity: 0.5;
        }
        
        .achievement-text {
            font-size: 11px;
            text-align: center;
            line-height: 1.2;
        }
        
        .stats-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin: 15px 0;
        }
        
        .stat-box {
            background: var(--bg-color);
            padding: 12px;
            border-radius: 8px;
            text-align: center;
        }
        
        .stat-value {
            font-size: 24px;
            font-weight: bold;
            color: var(--primary-color);
        }
        
        .stat-label {
            font-size: 12px;
            color: #6c757d;
        }
        
        .share-container {
            margin: 15px 0;
        }
        
        .share-btn {
            background: linear-gradient(to right, #3b5998, #4267B2);
            margin: 5px;
        }
        
        .share-btn.twitter {
            background: linear-gradient(to right, #1DA1F2, #1A91DA);
        }
        
        .share-btn.whatsapp {
            background: linear-gradient(to right, #25D366, #128C7E);
        }
        
        /* Improved mobile responsiveness */
        @media (max-width: 480px) {
            .container {
                padding: 15px;
                border-radius: 12px;
            }
            
            h1 {
                font-size: 22px;
            }
            
            h2 {
                font-size: 18px;
            }
            
            .question-text {
                font-size: 16px;
            }
            
            .btn {
                padding: 10px 20px;
                font-size: 15px;
                margin: 8px;
            }
            
            .external-back-btn {
                top: 10px;
                left: 10px;
                padding: 6px 12px;
                font-size: 13px;
            }
            
            .lifeline {
                padding: 7px 10px;
                font-size: 12px;
                margin: 4px;
            }
            
            .option {
                padding: 12px;
                font-size: 14px;
                min-height: 44px;
            }
            
            .score-container {
                font-size: 20px;
            }
            
            .score {
                font-size: 24px;
            }
            
            .history-icon {
                font-size: 45px;
            }
            
            .score-level {
                min-width: 70px;
                font-size: 10px;
            }
            
            .theme-toggle {
                top: 10px;
                right: 10px;
                width: 36px;
                height: 36px;
            }
            
            .notification {
                font-size: 13px;
                padding: 10px 15px;
            }
            
            .stats-container {
                grid-template-columns: 1fr;
            }
            
            .achievement {
                width: 70px;
                height: 70px;
            }
        }
        
        @media (max-width: 350px) {
            .navigation {
                flex-direction: column;
                align-items: center;
            }
            
            .score-bar {
                flex-direction: column;
            }
            
            .score-level {
                margin-bottom: 5px;
            }
            
            .lifeline-container {
                flex-direction: column;
                align-items: center;
            }
            
            .lifeline {
                width: 80%;
                justify-content: center;
            }
            
            .difficulty-selector {
                flex-direction: column;
                align-items: center;
            }
            
            .difficulty-btn {
                width: 80%;
            }
        }
        
        /* Prevent horizontal scrolling */
        html, body {
            max-width: 100%;
            overflow-x: hidden;
        }
        
        /* Improve text readability on small devices */
        .question-text, .option, .result-details, .fact-container {
            hyphens: auto;
            -webkit-hyphens: auto;
            -ms-hyphens: auto;
        }
        
        /* Animation for new features */
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .pulse {
            animation: pulse 2s infinite;
        }
        
        /* Progress animation */
        @keyframes progressAnimation {
            from { width: 0%; }
            to { width: 100%; }
        }
        
        .progress-bar.animated {
            animation: progressAnimation 30s linear;
        }
    </style>
</head>
<body>
    <!-- Background elements -->
    <div class="cloud" style="top: 10%; width: 100px; height: 50px; left: 5%; animation-duration: 25s;"></div>
    <div class="cloud" style="top: 30%; width: 150px; height: 70px; left: 10%; animation-duration: 30s; animation-delay: 2s;"></div>
    <div class="cloud" style="top: 60%; width: 120px; height: 60px; left: 5%; animation-duration: 35s; animation-delay: 5s;"></div>
    <div class="cloud" style="top: 80%; width: 80px; height: 40px; left: 15%; animation-duration: 40s; animation-delay: 7s;"></div>

    <!-- Tombol Kembali External -->
    <button id="external-back-btn" class="btn btn-back floating external-back-btn" style="display: none;">
        <i class="fas fa-arrow-left"></i> Kembali
    </button>

    <!-- Tombol Toggle Theme -->
    <button id="theme-toggle" class="theme-toggle">
        <i class="fas fa-moon"></i>
    </button>

    <div class="container">
        <!-- Layar Awal -->
        <div id="start-screen" class="screen">
            <div class="history-icon floating">
                <i class="fas fa-landmark"></i>
            </div>
            <h1>Quiz Sejarah</h1>
            <p class="subtitle">Uji pengetahuan Anda tentang sejarah Indonesia, dunia dan Islam dengan berbagai tingkat kesulitan</p>
            
            <div class="difficulty-selector">
                <button class="btn btn-easy difficulty-btn" data-difficulty="easy">
                    Mudah <i class="fas fa-leaf"></i>
                </button>
                <button class="btn btn-medium difficulty-btn" data-difficulty="medium">
                    Sedang <i class="fas fa-fire"></i>
                </button>
                <button class="btn btn-hard difficulty-btn" data-difficulty="hard">
                    Sulit <i class="fas fa-skull"></i>
                </button>
            </div>
            
            <div class="score-bar">
                <div class="score-level">Pemula (0-40)</div>
                <div class="score-level">Lumayan (41-70)</div>
                <div class="score-level">Ahli (71-90)</div>
                <div class="score-level">Master (91-100)</div>
            </div>
            
            <div class="stats-container" id="quick-stats">
                <div class="stat-box">
                    <div class="stat-value" id="total-quizzes">0</div>
                    <div class="stat-label">Kuis Diselesaikan</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="average-score">0</div>
                    <div class="stat-label">Rata-rata Skor</div>
                </div>
            </div>
            
            <button id="start-btn" class="btn">Mulai Kuis <i class="fas fa-play"></i></button>
            
            <div class="fact-container">
                <div class="fact-title">Fakta Sejarah Hari Ini:</div>
                <div id="history-fact-start"></div>
            </div>
        </div>
        
        <!-- Layar Kuis -->
        <div id="quiz-screen" class="screen">
            <div class="question-number">Pertanyaan <span id="current-question">1</span> dari <span id="total-questions">10</span></div>
            <div class="progress">
                <div class="progress-bar" id="progress-bar"></div>
            </div>
            <div class="category" id="question-category">Sejarah Indonesia</div>
            <div class="question-text" id="question-text"></div>
            
            <div class="hint-container" id="hint-container">
                <div class="hint-title"><i class="fas fa-lightbulb"></i> Petunjuk:</div>
                <div id="hint-text"></div>
            </div>
            
            <div class="lifeline-container">
                <button id="fifty-fifty" class="lifeline" title="Hilangkan 2 jawaban salah">
                    <i class="fas fa-half-alt"></i> 50:50
                </button>
                <button id="hint-btn" class="lifeline" title="Dapatkan petunjuk">
                    <i class="fas fa-lightbulb"></i> Petunjuk
                </button>
                <button id="skip-question" class="lifeline" title="Lewati pertanyaan ini">
                    <i class="fas fa-forward"></i> Lewati
                </button>
            </div>
            
            <div id="options-container"></div>
            <div class="timer">Waktu: <span id="time-left">30</span> detik</div>
            
            <div class="navigation">
                <button id="next-btn" class="btn" disabled>Lanjut <i class="fas fa-arrow-right"></i></button>
            </div>
        </div>
        
        <!-- Layar Hasil -->
        <div id="result-screen" class="screen">
            <div class="history-icon floating">
                <i class="fas fa-trophy"></i>
            </div>
            <h1>Hasil Kuis</h1>
            <div class="score-container">Skor Anda: <span id="score" class="score">0</span> dari 100</div>
            <div id="score-message"></div>
            
            <div class="result-details">
                <h3>Detail Hasil</h3>
                <div class="result-item">
                    <span>Jawaban Benar:</span>
                    <span id="correct-answers">0</span>
                </div>
                <div class="result-item">
                    <span>Jawaban Salah:</span>
                    <span id="incorrect-answers">0</span>
                </div>
                <div class="result-item">
                    <span>Pertanyaan Dilewati:</span>
                    <span id="skipped-answers">0</span>
                </div>
                <div class="result-item">
                    <span>Waktu yang digunakan:</span>
                    <span id="time-used">0</span> detik
                </div>
                <div class="result-item">
                    <span>Bantuan Digunakan:</span>
                    <span id="lifelines-used">0</span>
                </div>
                <div class="result-item">
                    <span>Tingkat Kesulitan:</span>
                    <span id="difficulty-used">Mudah</span>
                </div>
            </div>
            
            <div class="stats-container">
                <div class="stat-box">
                    <div class="stat-value" id="total-time">0</div>
                    <div class="stat-label">Total Waktu</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="best-streak">0</div>
                    <div class="stat-label">Jawaban Benar Beruntun</div>
                </div>
            </div>
            
            <h2>Pencapaian</h2>
            <div class="achievement-container">
                <div class="achievement" id="achievement-1">
                    <i class="fas fa-star"></i>
                    <div class="achievement-text">Pertama Kali</div>
                </div>
                <div class="achievement" id="achievement-2">
                    <i class="fas fa-medal"></i>
                    <div class="achievement-text">Nilai Sempurna</div>
                </div>
                <div class="achievement" id="achievement-3">
                    <i class="fas fa-bolt"></i>
                    <div class="achievement-text">Cepat Tangkas</div>
                </div>
            </div>
            
            <div class="fact-container">
                <div class="fact-title">Fakta Sejarah Hari Ini:</div>
                <div id="history-fact"></div>
            </div>
         <div class="share-container">
       <button class="btn share-btn facebook">
       <i class="fab fa-facebook"></i> Facebook
          </button>
          <button class="btn share-btn twitter">
        <i class="fab fa-twitter"></i> Twitter
            </button>
            <button class="btn share-btn whatsapp">
         <i class="fab fa-whatsapp"></i> WhatsApp
              </button>
        </div>
            <div class="navigation">
                <button id="back-to-start-btn" class="btn btn-back"><i class="fas fa-home"></i> Ke Awal</button>
                <button id="restart-btn" class="btn">Main Lagi <i class="fas fa-redo"></i></button>
            </div>
        </div>
    </div>

    <!-- Modal Konfirmasi -->
    <div id="confirmation-modal" class="confirmation-modal">
        <div class="modal-content">
            <h3>Keluar dari Kuis?</h3>
            <p>Apakah Anda yakin ingin keluar? Progress yang sudah Anda buat akan hilang.</p>
            <div class="modal-buttons">
                <button id="modal-cancel" class="btn btn-back modal-btn">Batal</button>
                <button id="modal-confirm" class="btn modal-btn">Ya, Keluar</button>
            </div>
        </div>
    </div>

    <div id="notification" class="notification"></div>

    <script>
        // Bank soal sejarah dengan tingkat kesulitan
        const questionBank = [
            // Pertanyaan mudah
            {
                category: "Sejarah Indonesia",
                question: "Kapan Proklamasi Kemerdekaan Indonesia dibacakan?",
                options: ["17 Agustus 1945", "27 Desember 1949", "1 Juni 1945", "10 November 1945"],
                answer: 0,
                fact: "Proklamasi Kemerdekaan Indonesia dibacakan oleh Soekarno dengan didampingi oleh Mohammad Hatta di Jalan Pegangsaan Timur 56, Jakarta Pusat.",
                difficulty: "easy",
                hint: "Tanggal ini diperingati sebagai Hari Kemerdekaan Indonesia setiap tahunnya."
            },
            {
                category: "Sejarah Indonesia",
                question: "Siapa presiden pertama Indonesia?",
                options: ["Mohammad Hatta", "Soeharto", "Soekarno", "BJ Habibie"],
                answer: 2,
                fact: "Soekarno adalah presiden pertama Indonesia yang menjabat dari tahun 1945 hingga 1967. Ia memainkan peran penting dalam memerdekakan bangsa Indonesia dari penjajahan Belanda.",
                difficulty: "easy",
                hint: "Dia juga dikenal sebagai Bapak Proklamator Indonesia."
            },
            {
                category: "Sejarah Dunia",
                question: "Perang Dunia II berlangsung antara tahun...",
                options: ["1914-1918", "1939-1945", "1945-1950", "1929-1939"],
                answer: 1,
                fact: "Perang Dunia II berlangsung dari tahun 1939 hingga 1945 dan melibatkan sebagian besar negara di dunia, termasuk semua kekuatan besar yang akhirnya membentuk dua aliansi militer yang saling bertentangan: Sekutu dan Poros.",
                difficulty: "easy",
                hint: "Perang ini dimulai dengan invasi Jerman ke Polandia."
            },
                {
        category: "Sejarah Dunia",
        question: "Siapa penemu mesin uap yang merevolusi industri?",
        options: ["James Watt", "Thomas Newcomen", "Thomas Edison", "Alexander Graham Bell"],
        answer: 0,
        fact: "James Watt adalah insinyur Skotlandia yang menyempurnakan mesin uap Newcomen pada tahun 1769. Penemuannya memainkan peran penting dalam Revolusi Industri.",
        difficulty: "easy",
        hint: "Namanya digunakan sebagai satuan daya listrik."
    },
        {
        category: "Sejarah Islam",
        question: "Masjid Al-Aqsa berada di kota?",
        options: ["Yerusalem", "Mekkah", "Madinah", "Baghdad"],
        answer: 0,
        fact: "Masjid Al-Aqsa berada di Kota Tua Yerusalem dan merupakan salah satu tempat suci dalam Islam. Masjid ini menjadi kiblat pertama umat Islam sebelum dipindahkan ke Ka'bah di Masjidil Haram, Mekkah.",
        difficulty: "easy",
        hint: "Kota yang juga dianggap suci oleh tiga agama Abrahamik."
    },
        {
        category: "Sejarah Dunia",
        question: "Di mana Deklarasi Kemerdekaan Amerika ditandatangani?",
        options: ["Philadelphia", "Washington D.C.", "New York", "Boston"],
        answer: 0,
        fact: "Deklarasi Kemerdekaan Amerika ditandatangani di Independence Hall, Philadelphia pada tanggal 4 Juli 1776. Dokumen ini menyatakan tiga belas koloni Amerika merdeka dari Britania Raya.",
        difficulty: "easy",
        hint: "Kota yang dikenal dengan keju steak-nya."
    },
        {
        category: "Sejarah Islam",
        question: "Siapa khalifah pertama setelah wafatnya Nabi Muhammad?",
        options: ["Abu Bakar Ash-Shiddiq", "Umar bin Khattab", "Utsman bin Affan", "Ali bin Abi Thalib"],
        answer: 0,
        fact: "Abu Bakar Ash-Shiddiq adalah khalifah pertama dalam Islam yang memerintah dari tahun 632 hingga 634 M. Ia terpilih melalui musyawarah di Saqifah Bani Sa'idah setelah wafatnya Nabi Muhammad.",
        difficulty: "easy",
        hint: "Dia juga merupakan mertua Nabi Muhammad."
    },
        {
        category: "Sejarah Indonesia",
        question: "Siapa pahlawan nasional dari Maluku yang terkenal melawan Belanda?",
        options: ["Pattimura", "Sisingamangaraja XII", "Tuanku Imam Bonjol", "Pangeran Diponegoro"],
        answer: 0,
        fact: "Thomas Matulessy atau yang lebih dikenal dengan Kapitan Pattimura adalah pahlawan nasional Indonesia dari Maluku yang memimpin perlawanan terhadap penjajahan Belanda pada tahun 1817.",
        difficulty: "easy",
        hint: "Nama aslinya adalah Thomas Matulessy."
    },
            // Pertanyaan sedang
            {
                category: "Sejarah Indonesia",
                question: "Siapa penulis naskah proklamasi Indonesia?",
                options: ["Soekarno", "Mohammad Hatta", "Achmad Soebardjo", "Soekarno-Hatta"],
                answer: 0,
                fact: "Soekarno menulis naskah proklamasi di rumah Laksamana Tadashi Maeda dengan disaksikan oleh Mohammad Hatta dan Achmad Soebardjo.",
                difficulty: "medium",
                hint: "Orang ini juga yang membacakan naskah proklamasi."
            },
                {
        category: "Sejarah Islam",
        question: "Siapa panglima Muslim yang menaklukkan Spanyol?",
        options: ["Thariq bin Ziyad", "Musa bin Nushair", "Muhammad bin Qasim", "Shalahuddin al-Ayyubi"],
        answer: 0,
        fact: "Thariq bin Ziyad adalah panglima Muslim dari Kekhalifahan Umayyah yang memimpin penaklukan Visigoth di Hispania (Spanyol) pada tahun 711 M. Namanya diabadikan sebagai nama Gibraltar (Jabal Thariq).",
        difficulty: "medium",
        hint: "Namanya diabadikan sebagai nama selat antara Spanyol dan Maroko."
    },
        {
        category: "Sejarah Indonesia",
        question: "Kerajaan Islam pertama di Indonesia adalah?",
        options: ["Samudera Pasai", "Demak", "Aceh", "Gowa-Tallo"],
        answer: 0,
        fact: "Kesultanan Samudera Pasai adalah kerajaan Islam pertama di Indonesia yang terletak di pesisir pantai utara Sumatra, berdiri sekitar abad ke-13 Masehi.",
        difficulty: "medium",
        hint: "Terletak di provinsi Aceh sekarang."
    },
        {
        category: "Sejarah Indonesia",
        question: "Siapa perdana menteri pertama Indonesia?",
        options: ["Sutan Sjahrir", "Amir Sjarifuddin", "Mohammad Hatta", "Soekarno"],
        answer: 0,
        fact: "Sutan Sjahrir menjadi Perdana Menteri Indonesia pertama yang menjabat dari 14 November 1945 hingga 20 Juni 1947. Ia adalah salah satu tokoh penting dalam perjuangan diplomasi Indonesia.",
        difficulty: "medium",
        hint: "Dia juga merupakan salah satu pendiri Partai Sosialis Indonesia."
    },
        {
        category: "Sejarah Indonesia",
        question: "Peristiwa Bandung Lautan Api terjadi pada tanggal berapa?",
        options: ["23 Maret 1946", "10 November 1945", "17 Agustus 1945", "1 Maret 1949"],
        answer: 0,
        fact: "Peristiwa Bandung Lautan Api terjadi pada 23 Maret 1946. Rakyat Bandung membakar rumah dan harta benda mereka sebelum meninggalkan kota untuk mencegah tentara Sekutu dan NICA menguasainya.",
        difficulty: "medium",
        hint: "Terjadi setahun setelah proklamasi kemerdekaan."
    },
        {
        category: "Sejarah Indonesia",
        question: "Siapa yang memimpin Perlawanan Rakyat Maluku melawan Belanda tahun 1817?",
        options: ["Kapitan Pattimura", "Sultan Hasanuddin", "Pangeran Diponegoro", "Tuanku Imam Bonjol"],
        answer: 0,
        fact: "Kapitan Pattimura (Thomas Matulessy) memimpin perlawanan rakyat Maluku melawan Belanda pada tahun 1817. Perlawanan ini berawal dari penolakan terhadap kebijakan monopoli dan penindasan oleh pemerintah kolonial Belanda.",
        difficulty: "medium",
        hint: "Nama aslinya adalah Thomas Matulessy."
    },
                {
        category: "Sejarah Islam",
        question: "Pertempuran Badar terjadi pada tahun?",
        options: ["624 M", "625 M", "622 M", "630 M"],
        answer: 0,
        fact: "Pertempuran Badar terjadi pada 17 Ramadan tahun 2 Hijriah (13 Maret 624 M). Pertempuran ini adalah pertempuran besar pertama antara Muslim dari Madinah dan kaum Quraisy dari Mekkah.",
        difficulty: "medium",
        hint: "Terjadi di bulan Ramadan."
    },
        {
        category: "Sejarah Islam",
        question: "Siapa pendiri Dinasti Umayyah?",
        options: ["Muawiyah bin Abu Sufyan", "Utsman bin Affan", "Abdul Malik bin Marwan", "Yazid bin Muawiyah"],
        answer: 0,
        fact: "Muawiyah bin Abu Sufyan adalah pendiri Kekhalifahan Umayyah yang memerintah dari tahun 661 hingga 680 M. Ia memindahkan ibu kota kekhalifahan dari Kufah ke Damaskus.",
        difficulty: "medium",
        hint: "Dia sebelumnya menjadi gubernur Suriah."
     },
                {
        category: "Sejarah Dunia",
        question: "Kapan Tembok Berlin mulai dibangun?",
        options: ["1961", "1945", "1989", "1955"],
        answer: 0,
        fact: "Tembok Berlin mulai dibangun pada 13 Agustus 1961 oleh Jerman Timur untuk mencegah warganya melarikan diri ke Berlin Barat. Tembok ini menjadi simbol Perang Dingin dan akhirnya diruntuhkan pada 9 November 1989.",
        difficulty: "medium",
        hint: "Dibangun lebih dari 15 tahun setelah berakhirnya Perang Dunia II."
    },
                {
        category: "Sejarah Dunia",
        question: "Siapa pemimpin revolusi Kuba?",
        options: ["Fidel Castro", "Che Guevara", "Raúl Castro", "Semua benar"],
        answer: 3,
        fact: "Revolusi Kuba (1953-1959) dipimpin oleh Fidel Castro, Che Guevara, Raúl Castro, dan para revolusioner lainnya yang berhasil menggulingkan pemerintahan diktator Fulgencio Batista.",
        difficulty: "medium",
        hint: "Termasuk seorang revolusioner terkenal dari Argentina."
    },
                {
        category: "Sejarah Dunia",
        question: "Siapa pemimpin Jerman selama Perang Dunia I?",
        options: ["Kaiser Wilhelm II", "Adolf Hitler", "Otto von Bismarck", "Paul von Hindenburg"],
        answer: 0,
        fact: "Kaiser Wilhelm II adalah Kaisar Jerman dan Raja Prussia dari tahun 1888 hingga 1918. Kebijakan agresifnya berkontribusi terhadap pecahnya Perang Dunia I.",
        difficulty: "medium",
        hint: "Dia adalah cucu dari Ratu Victoria dari Inggris."
    },
            {
                category: "Sejarah Indonesia",
                question: "Kerajaan Hindu pertama di Indonesia adalah...",
                options: ["Sriwijaya", "Majapahit", "Kutai", "Tarumanegara"],
                answer: 2,
                fact: "Kerajaan Kutai adalah kerajaan Hindu tertua di Indonesia yang berdiri pada abad ke-4 Masehi di Kalimantan Timur. Bukti keberadaan kerajaan ini adalah ditemukannya tujuh prasasti Yupa.",
                difficulty: "medium",
                hint: "Kerajaan ini terletak di Kalimantan Timur."
            },
            {
                category: "Sejarah Dunia",
                question: "Revolusi Industri pertama dimulai di negara mana?",
                options: ["Amerika Serikat", "Prancis", "Inggris", "Jerman"],
                answer: 2,
                fact: "Revolusi Industri pertama dimulai di Inggris pada abad ke-18 dengan penemuan mesin uap oleh James Watt yang merevolusi proses manufaktur dan produksi.",
                difficulty: "medium",
                hint: "Negara ini terletak di Eropa Barat dan memiliki Ratu sebagai kepala negara."
            },
                {
        category: "Sejarah Dunia",
        question: "Siapa pemimpin Uni Soviet selama Perang Dingin?",
        options: ["Joseph Stalin", "Nikita Khrushchev", "Leonid Brezhnev", "Semua benar"],
        answer: 3,
        fact: "Selama Perang Dingin (1947-1991), Uni Soviet dipimpin oleh beberapa pemimpin termasuk Joseph Stalin (1924-1953), Nikita Khrushchev (1953-1964), dan Leonid Brezhnev (1964-1982).",
        difficulty: "medium",
        hint: "Termasuk pemimpin yang memerintahkan pembangunan Tembok Berlin."
    },
        {
        category: "Sejarah Dunia",
        question: "Kapan Revolusi Amerika dimulai?",
        options: ["1775", "1789", "1765", "1776"],
        answer: 0,
        fact: "Revolusi Amerika dimulai pada tahun 1775 dengan pertempuran Lexington dan Concord, dan berakhir dengan pengakuan kemerdekaan Amerika Serikat oleh Inggris dalam Perjanjian Paris tahun 1783.",
        difficulty: "medium",
        hint: "Dimulai setahun sebelum Deklarasi Kemerdekaan Amerika."
    },
        {
        category: "Sejarah Dunia",
        question: "Siapa firaun Mesir yang membangun piramida terbesar di Giza?",
        options: ["Khufu", "Khafre", "Menkaure", "Tutankhamun"],
        answer: 0,
        fact: "Piramida Agung Giza dibangun untuk Firaun Khufu (juga dikenal sebagai Cheops) dari Dinasti Keempat Mesir sekitar tahun 2560 SM. Piramida ini adalah yang tertua dan terbesar dari tiga piramida di Giza.",
        difficulty: "medium",
        hint: "Juga dikenal dengan nama Cheops."
    },
        {
        category: "Sejarah Dunia",
        question: "Perang Seratus Tahun terjadi antara Inggris dan?",
        options: ["Prancis", "Spanyol", "Portugal", "Belanda"],
        answer: 0,
        fact: "Perang Seratus Tahun (1337-1453) adalah konflik bersenjata antara Inggris dan Prancis yang berlangsung selama 116 tahun. Penyebab utamanya adalah klaim Inggris atas takhta Prancis.",
        difficulty: "medium",
        hint: "Negara yang terkenal dengan menara Eiffel-nya."
    },
        {
        category: "Sejarah Islam",
        question: "Siapa sultan pertama Kesultanan Utsmaniyah?",
        options: ["Osman I", "Mehmed II", "Suleiman I", "Selim I"],
        answer: 0,
        fact: "Osman I adalah pendiri dan sultan pertama Kesultanan Utsmaniyah yang memerintah dari tahun 1299 hingga 1326. Namanya menjadi asal nama kesultanan ini (Utsmaniyah berasal dari Osman).",
        difficulty: "medium",
        hint: "Nama kesultanan ini diambil dari namanya."
     },
         {
        category: "Sejarah Islam",
        question: "Fathul Makkah (Pembebasan Mekkah) terjadi pada tahun?",
        options: ["630 M", "622 M", "632 M", "625 M"],
        answer: 0,
        fact: "Fathul Makkah (Pembebasan Mekkah) terjadi pada tahun 8 Hijriah (630 M). Peristiwa ini terjadi tanpa pertumpahan darah yang signifikan dan mengakhiri dominasi kaum Quraisy pagan atas Mekkah.",
        difficulty: "medium",
        hint: "Terjadi dua tahun sebelum wafatnya Nabi Muhammad."
    },
        {
        category: "Sejarah Islam",
        question: "Siapa ilmuwan Muslim yang dikenal sebagai Bapak Aljabar?",
        options: ["Al-Khawarizmi", "Ibnu Sina", "Al-Farabi", "Ibnu Khaldun"],
        answer: 0,
        fact: "Muhammad bin Musa al-Khawarizmi adalah matematikawan, astronom, dan geografer Persia yang hidup pada abad ke-9. Karyanya 'Al-Kitab al-Mukhtasar fi Hisab al-Jabr wa'l-Muqabala' memperkenalkan aljabar ke dunia Barat.",
        difficulty: "medium",
        hint: "Nama belakangnya menjadi asal kata 'algoritma'."
    },
        {
        category: "Sejarah Indonesia",
        question: "Siapakah tokoh yang memimpin perlawanan rakyat Aceh terhadap Belanda?",
        options: ["Teuku Umar", "Cut Nyak Dhien", "Panglima Polim", "Semua benar"],
        answer: 3,
        fact: "Perlawanan rakyat Aceh terhadap Belanda dipimpin oleh beberapa tokoh penting seperti Teuku Umar, Cut Nyak Dhien, dan Panglima Polim yang bersama-sama memimpin perang gerilya melawan penjajah.",
        difficulty: "medium",
        hint: "Termasuk seorang pahlawan wanita yang terkenal."
    },
            // Pertanyaan sulit
            {
                category: "Sejarah Indonesia",
                question: "Peristiwa Rengasdengklok terjadi pada tanggal...",
                options: ["16 Agustus 1945", "17 Agustus 1945", "15 Agustus 1945", "14 Agustus 1945"],
                answer: 0,
                fact: "Peristiwa Rengasdengklok terjadi pada tanggal 16 Agustus 1945 ketika para pemuda membawa Soekarno dan Hatta ke Rengasdengklok untuk mendesak mereka memproklamasikan kemerdekaan Indonesia secepatnya.",
                difficulty: "hard",
                hint: "Peristiwa ini terjadi tepat satu hari sebelum proklamasi kemerdekaan."
            },
                {
        category: "Sejarah Indonesia",
        question: "Perjanjian yang mengakhiri konfrontasi Indonesia-Malaysia adalah?",
        options: ["Perjanjian Jakarta", "Perjanjian Bangkok", "Perjanción New York", "Perjanjian Linggarjati"],
        answer: 1,
        fact: "Perjanjian Bangkok ditandatangani pada 11 Agustus 1966 antara Indonesia dan Malaysia yang mengakhiri konfrontasi antara kedua negara yang berlangsung sejak 1963.",
        difficulty: "hard",
        hint: "Ditandatangani di ibu kota Thailand."
    },
        {
        category: "Sejarah Indonesia",
        question: "Siapa sultan pertama Kerajaan Demak?",
        options: ["Raden Patah", "Sultan Trenggono", "Arya Penangsang", "Sunan Kudus"],
        answer: 0,
        fact: "Raden Patah adalah pendiri dan sultan pertama Kesultanan Demak yang memerintah sekitar tahun 1478-1518. Ia adalah putra dari Brawijaya V, raja terakhir Majapahit.",
        difficulty: "hard",
        hint: "Nama aslinya adalah Jin Bun."
    },
        {
        category: "Sejarah Indonesia",
        question: "Peristiwa pembunuhan jenderal-jenderal TNI pada 30 September 1965 dikenal dengan nama?",
        options: ["Gerakan 30 September", "Peristiwa Lubang Buaya", "Tragedi Semanggi", "Peristiwa Tanjung Priok"],
        answer: 0,
        fact: "Gerakan 30 September (G30S) adalah peristiwa yang terjadi pada malam 30 September hingga 1 Oktober 1965 di mana enam jenderal dan satu perwira TNI AD dibunuh oleh sekelompok tentara yang menamakan diri Gerakan 30 September.",
        difficulty: "hard",
        hint: "Disingkat G30S."
    },
                {
        category: "Sejarah Indonesia",
        question: "Kapan Indonesia menjadi anggota PBB yang pertama kali?",
        options: ["28 September 1950", "17 Agustus 1945", "27 Desember 1949", "1 Oktober 1965"],
        answer: 0,
        fact: "Indonesia pertama kali menjadi anggota PBB ke-60 pada tanggal 28 September 1950. Namun, Indonesia sempat keluar dari PBB pada 7 Januari 1965 sebagai bentuk protes terhadap penerimaan Malaysia sebagai anggota tidak tetap Dewan Keamanan PBB, dan bergabung kembali pada 28 September 1966.",
        difficulty: "hard",
        hint: "Terjadi di bulan September."
    },
                {
        category: "Sejarah Islam",
        question: "Dinasti Abbasiyah didirikan oleh?",
        options: ["Abu al-Abbas as-Saffah", "Harun ar-Rasyid", "Al-Mansur", "Al-Ma'mun"],
        answer: 0,
        fact: "Abu al-Abbas as-Saffah adalah pendiri Kekhalifahan Abbasiyah yang memerintah dari tahun 750 hingga 754 M. Ia menggulingkan Kekhalifahan Umayyah dalam Revolusi Abbasiyah.",
        difficulty: "hard",
        hint: "Gelarnya 'as-Saffah' berarti 'yang menumpahkan darah'."
    },
                {
        category: "Sejarah Islam",
        question: "Kitab hadis sahih yang disusun oleh Imam Bukhari bernama?",
        options: ["Sahih Bukhari", "Sunan Bukhari", "Al-Jami' as-Sahih", "Semua benar"],
        answer: 3,
        fact: "Imam Bukhari menyusun kitab hadis yang dikenal sebagai Sahih Bukhari, Sunan Bukhari, atau secara lengkap Al-Jami' as-Sahih. Kitab ini diakui sebagai kitab hadis paling sahih setelah Al-Qur'an.",
        difficulty: "hard",
        hint: "Sering disebut sebagai kitab hadis paling sahih."
    },
                {
        category: "Sejarah Dunia",
        question: "Kekaisaran Romawi dibagi menjadi dua bagian pada tahun?",
        options: ["395 M", "476 M", "27 SM", "313 M"],
        answer: 0,
        fact: "Kekaisaran Romawi dibagi menjadi Kekaisaran Romawi Barat dan Timur pada tahun 395 M oleh Kaisar Theodosius I. Pembagian ini akhirnya menjadi permanen dan memicu perkembangan peradaban yang berbeda di kedua wilayah.",
        difficulty: "hard",
        hint: "Terjadi menjelang akhir abad ke-4 Masehi."
    },
            {
                category: "Sejarah Dunia",
                question: "Siapa pemimpin revolusi Bolshevik di Rusia tahun 1917?",
                options: ["Joseph Stalin", "Vladimir Lenin", "Leon Trotsky", "Karl Marx"],
                answer: 1,
                fact: "Vladimir Lenin adalah pemimpin revolusi Bolshevik di Rusia tahun 1917 yang menggulingkan pemerintahan sementara dan mendirikan negara komunis pertama di dunia.",
                difficulty: "hard",
                hint: "Dia adalah pendiri Uni Soviet dan menganut paham Marxisme-Leninisme."
            },
            {
                category: "Sejarah Indonesia",
                question: "Siapakah yang menjahit bendera Merah Putih untuk proklamasi?",
                options: ["Fatmawati", "SK Trimurti", "RA Kartini", "Dewi Sartika"],
                answer: 0,
                fact: "Fatmawati, istri Soekarno, adalah yang menjahit bendera Merah Putih yang dikibarkan pada upacara Proklamasi Kemerdekaan Indonesia pada 17 Agustus 1945.",
                difficulty: "hard",
                hint: "Dia adalah istri dari presiden pertama Indonesia."
            },
            {
                category: "Sejarah Dunia",
                question: "Tembok Berlin runtuh pada tahun berapa?",
                options: ["1987", "1989", "1991", "1985"],
                answer: 1,
                fact: "Tembok Berlin runtuh pada 9 November 1989, yang menjadi simbol berakhirnya Perang Dingin dan memicu reunifikasi Jerman pada tahun 1990.",
                difficulty: "hard",
                hint: "Peristiwa ini terjadi pada akhir dekade 80-an."
            },
            {
                category: "Sejarah Indonesia",
                question: "Siapa yang dikenal sebagai Bapak Pendidikan Indonesia?",
                options: ["Ki Hajar Dewantara", "R.A. Kartini", "Douwes Dekker", "Ahmad Dahlan"],
                answer: 0,
                fact: "Ki Hajar Dewantara mendirikan Taman Siswa pada tahun 1922, sebuah sekolah yang mengedepankan pendidikan berbasis budaya Indonesia dan nasionalisme.",
                difficulty: "easy",
                hint: "Lahir dengan nama Raden Mas Soewardi Soerjaningrat."
            },
            {
                category: "Sejarah Indonesia",
                question: "Peristiwa Bandung Lautan Api terjadi pada tanggal?",
                options: ["23 Maret 1946", "10 November 1945", "17 Agustus 1945", "1 Maret 1949"],
                answer: 0,
                fact: "Peristiwa Bandung Lautan Api adalah peristiwa kebakaran besar yang terjadi di Bandung, dimana rakyat Bandung membakar rumah dan harta benda mereka sebelum meninggalkan kota untuk mencegah tentara Sekutu dan NICA menguasainya.",
                difficulty: "medium",
                hint: "Terjadi setahun setelah proklamasi kemerdekaan."
            },
            {
                category: "Sejarah Indonesia",
                question: "Siapakah perdana menteri pertama Indonesia?",
                options: ["Sutan Sjahrir", "Amir Sjarifuddin", "Mohammad Hatta", "Soekarno"],
                answer: 0,
                fact: "Sutan Sjahrir menjadi Perdana Menteri Indonesia pertama yang menjabat dari 14 November 1945 hingga 20 Juni 1947. Ia adalah salah satu tokoh penting dalam perjuangan diplomasi Indonesia.",
                difficulty: "medium",
                hint: "Dia juga merupakan salah satu pendiri Partai Sosialis Indonesia."
            },
            {
                category: "Sejarah Indonesia",
                question: "Kerajaan Islam pertama di Indonesia adalah?",
                options: ["Samudera Pasai", "Demak", "Aceh", "Gowa-Tallo"],
                answer: 0,
                fact: "Kesultanan Samudera Pasai adalah kerajaan Islam pertama di Indonesia yang terletak di pesisir pantai utara Sumatra, berdiri sekitar abad ke-13 Masehi.",
                difficulty: "medium",
                hint: "Terletak di provinsi Aceh sekarang."
            },
            {
                category: "Sejarah Indonesia",
                question: "Siapa pahlawan nasional dari Maluku yang terkenal melawan Belanda?",
                options: ["Pattimura", "Sisingamangaraja XII", "Tuanku Imam Bonjol", "Pangeran Diponegoro"],
                answer: 0,
                fact: "Thomas Matulessy atau yang lebih dikenal dengan Kapitan Pattimura adalah pahlawan nasional Indonesia dari Maluku yang memimpin perlawanan terhadap penjajahan Belanda pada tahun 1817.",
                difficulty: "easy",
                hint: "Nama aslinya adalah Thomas Matulessy."
            },
            {
                category: "Sejarah Indonesia",
                question: "Peristiwa pembunuhan jenderal-jenderal TNI pada 30 September 1965 dikenal dengan nama?",
                options: ["Gerakan 30 September", "Peristiwa Lubang Buaya", "Tragedi Semanggi", "Peristiwa Tanjung Priok"],
                answer: 0,
                fact: "Gerakan 30 September (G30S) adalah peristiwa yang terjadi pada malam 30 September hingga 1 Oktober 1965 di mana enam jenderal dan satu perwira TNI AD dibunuh oleh sekelompok tentara yang menamakan diri Gerakan 30 September.",
                difficulty: "hard",
                hint: "Disingkat G30S."
            },
            {
                category: "Sejarah Indonesia",
                question: "Siapa sultan pertama Kerajaan Demak?",
                options: ["Raden Patah", "Sultan Trenggono", "Arya Penangsang", "Sunan Kudus"],
                answer: 0,
                fact: "Raden Patah adalah pendiri dan sultan pertama Kesultanan Demak yang memerintah sekitar tahun 1478-1518. Ia adalah putra dari Brawijaya V, raja terakhir Majapahit.",
                difficulty: "hard",
                hint: "Nama aslinya adalah Jin Bun."
            },
            {
                category: "Sejarah Indonesia",
                question: "Perjanjian yang mengakhiri konfrontasi Indonesia-Malaysia adalah?",
                options: ["Perjanjian Jakarta", "Perjanjian Bangkok", "Perjanjian New York", "Perjanjian Linggarjati"],
                answer: 1,
                fact: "Perjanjian Bangkok ditandatangani pada 11 Agustus 1966 antara Indonesia dan Malaysia yang mengakhiri konfrontasi antara kedua negara yang berlangsung sejak 1963.",
                difficulty: "hard",
                hint: "Ditandatangani di ibu kota Thailand."
            },
            {
                category: "Sejarah Indonesia",
                question: "Siapakah tokoh yang memimpin perlawanan rakyat Aceh terhadap Belanda?",
                options: ["Teuku Umar", "Cut Nyak Dhien", "Panglima Polim", "Semua benar"],
                answer: 3,
                fact: "Perlawanan rakyat Aceh terhadap Belanda dipimpin oleh beberapa tokoh penting seperti Teuku Umar, Cut Nyak Dhien, dan Panglima Polim yang bersama-sama memimpin perang gerilya melawan penjajah.",
                difficulty: "medium",
                hint: "Termasuk seorang pahlawan wanita yang terkenal."
            },
            {
                category: "Sejarah Indonesia",
                question: "Kapan Indonesia menjadi anggota PBB yang pertama kali?",
                options: ["28 September 1950", "17 Agustus 1945", "27 Desember 1949", "1 Oktober 1965"],
                answer: 0,
                fact: "Indonesia pertama kali menjadi anggota PBB ke-60 pada tanggal 28 September 1950. Namun, Indonesia sempat keluar dari PBB pada 7 Januari 1965 sebagai bentuk protes terhadap penerimaan Malaysia sebagai anggota tidak tetap Dewan Keamanan PBB, dan bergabung kembali pada 28 September 1966.",
                difficulty: "hard",
                hint: "Terjadi di bulan September."
            },
            {
                category: "Sejarah Indonesia",
                question: "Siapa yang menciptakan lagu Indonesia Raya?",
                options: ["W.R. Supratman", "Cornel Simanjuntak", "Ismail Marzuki", "Kusbini"],
                answer: 0,
                fact: "Wage Rudolf Supratman adalah pencipta lagu Indonesia Raya yang pertama kali diperdengarkan pada Kongres Pemuda II tanggal 28 Oktober 1928.",
                difficulty: "easy",
                hint: "Nama lengkapnya Wage Rudolf Supratman."
            },
            {
                category: "Sejarah Indonesia",
                question: "Pemberontakan PKI Madiun terjadi pada tahun?",
                options: ["1948", "1945", "1965", "1926"],
                answer: 0,
                fact: "Pemberontakan PKI Madiun terjadi pada tanggal 18 September 1948 yang dipimpin oleh Muso dan Amir Sjarifuddin. Pemberontakan ini berhasil ditumpas oleh TNI.",
                difficulty: "medium",
                hint: "Terjadi setahun setelah Agresi Militer Belanda I."
            },
            {
                category: "Sejarah Indonesia",
                question: "Siapa gubernur jenderal Hindia Belanda yang menerapkan sistem cultuurstelsel?",
                options: ["Johannes van den Bosch", "Herman Willem Daendels", "Thomas Stamford Raffles", "Pieter Both"],
                answer: 0,
                fact: "Johannes van den Bosch adalah gubernur jenderal Hindia Belanda yang menjabat dari 1830-1833 dan menerapkan sistem tanam paksa (cultuurstelsel) yang menyengsarakan rakyat Indonesia.",
                difficulty: "medium",
                hint: "Kebijakannya dikenal sebagai sistem tanam paksa."
            },
            {
                category: "Sejarah Indonesia",
                question: "Peristiwa Pertempuran Ambarawa terjadi antara Indonesia melawan?",
                options: ["Inggris", "Belanda", "Jepang", "Sekutu"],
                answer: 3,
                fact: "Pertempuran Ambarawa terjadi antara pasukan TKR dan pemuda Indonesia melawan pasukan Sekutu (Inggris) pada tanggal 20 November sampai 15 Desember 1945. Kemenangan Indonesia dalam pertempuran ini diperingati sebagai Hari Infanteri.",
                difficulty: "medium",
                hint: "Lawan dalam pertempuran ini adalah pasukan yang dipimpin oleh Inggris."
            },
            {
                category: "Sejarah Indonesia",
                question: "Siapa nama asli dari Pangeran Diponegoro?",
                options: ["Bendara Raden Mas Mustahar", "Bendara Raden Mas Antawirya", "Bendara Raden Mas Sutawijaya", "Bendara Raden Mas Said"],
                answer: 1,
                fact: "Nama asli Pangeran Diponegoro adalah Bendara Raden Mas Antawirya. Ia adalah putra sulung dari Sultan Hamengkubuwono III yang memimpin Perang Jawa (1825-1830) melawan Belanda.",
                difficulty: "hard",
                hint: "Nama depannya adalah Bendara Raden Mas."
            },
            {
                category: "Sejarah Indonesia",
                question: "Kapan BPUPKI dibentuk?",
                options: ["1 Maret 1945", "17 Agustus 1945", "29 April 1945", "7 Agustus 1945"],
                answer: 2,
                fact: "Badan Penyelidik Usaha-usaha Persiapan Kemerdekaan Indonesia (BPUPKI) atau Dokuritsu Junbi Cosakai dibentuk pada 29 April 1945 atas izin Jepang untuk mempersiapkan kemerdekaan Indonesia.",
                difficulty: "medium",
                hint: "Dibentuk beberapa bulan sebelum proklamasi kemerdekaan."
            },
            {
                category: "Sejarah Indonesia",
                question: "Siapa yang menjabat sebagai Wakil Presiden Indonesia pertama?",
                options: ["Mohammad Hatta", "Adam Malik", "Sri Sultan Hamengkubuwono IX", "Umar Wirahadikusumah"],
                answer: 0,
                fact: "Mohammad Hatta adalah Wakil Presiden Indonesia pertama yang menjabat dari tahun 1945 hingga 1956. Ia juga dikenal sebagai Bapak Koperasi Indonesia.",
                difficulty: "easy",
                hint: "Dia juga merupakan proklamator kemerdekaan Indonesia."
            },
            {
                category: "Sejarah Indonesia",
                question: "Peristiwa apa yang terjadi pada 10 November 1945 di Surabaya?",
                options: ["Pertempuran Surabaya", "Proklamasi Kemerdekaan", "Pembentukan BPUPKI", "Peristiwa Bandung Lautan Api"],
                answer: 0,
                fact: "Pertempuran Surabaya terjadi pada 10 November 1945 antara pasukan Indonesia dan tentara Inggris. Pertempuran ini merupakan pertempuran pertama setelah kemerdekaan dan sekarang diperingati sebagai Hari Pahlawan.",
                difficulty: "easy",
                hint: "Diperingati sebagai Hari Pahlawan."
            },
            {
                category: "Sejarah Indonesia",
                question: "Siapa pemimpin perlawanan rakyat Bali terhadap Belanda?",
                options: ["I Gusti Ketut Jelantik", "I Gusti Ngurah Rai", "Dewa Agung Jambe", "Patih Jelantik"],
                answer: 1,
                fact: "I Gusti Ngurah Rai adalah pahlawan nasional Indonesia dari Bali yang memimpin perlawanan terhadap Belanda dalam Perang Puputan Margarana pada tahun 1946.",
                difficulty: "medium",
                hint: "Namanya diabadikan sebagai nama bandara di Bali."
            },
            {
                category: "Sejarah Indonesia",
                question: "Kerajaan Hindu terbesar di Indonesia kuno adalah?",
                options: ["Majapahit", "Sriwijaya", "Kutai", "Tarumanegara"],
                answer: 0,
                fact: "Kerajaan Majapahit adalah kerajaan Hindu-Buddha terakhir dan terbesar yang berdiri dari sekitar tahun 1293 hingga 1527 Masehi. Kerajaan ini mencapai puncak kejayaannya pada masa pemerintahan Hayam Wuruk (1350-1389).",
                difficulty: "medium",
                hint: "Patihnya yang terkenal bernama Gajah Mada."
            },

            // Sejarah Dunia (15 pertanyaan)
            {
                category: "Sejarah Dunia",
                question: "Siapa pemimpin Uni Soviet selama Perang Dingin?",
                options: ["Joseph Stalin", "Nikita Khrushchev", "Leonid Brezhnev", "Semua benar"],
                answer: 3,
                fact: "Selama Perang Dingin (1947-1991), Uni Soviet dipimpin oleh beberapa pemimpin termasuk Joseph Stalin (1924-1953), Nikita Khrushchev (1953-1964), dan Leonid Brezhnev (1964-1982).",
                difficulty: "medium",
                hint: "Termasuk pemimpin yang memerintahkan pembangunan Tembok Berlin."
            },
            {
                category: "Sejarah Dunia",
                question: "Kapan Revolusi Amerika dimulai?",
                options: ["1775", "1789", "1765", "1776"],
                answer: 0,
                fact: "Revolusi Amerika dimulai pada tahun 1775 dengan pertempuran Lexington dan Concord, dan berakhir dengan pengakuan kemerdekaan Amerika Serikat oleh Inggris dalam Perjanjian Paris tahun 1783.",
                difficulty: "medium",
                hint: "Dimulai setahun sebelum Deklarasi Kemerdekaan Amerika."
            },
            {
                category: "Sejarah Dunia",
                question: "Siapa firaun Mesir yang membangun piramida terbesar di Giza?",
                options: ["Khufu", "Khafre", "Menkaure", "Tutankhamun"],
                answer: 0,
                fact: "Piramida Agung Giza dibangun untuk Firaun Khufu (juga dikenal sebagai Cheops) dari Dinasti Keempat Mesir sekitar tahun 2560 SM. Piramida ini adalah yang tertua dan terbesar dari tiga piramida di Giza.",
                difficulty: "medium",
                hint: "Juga dikenal dengan nama Cheops."
            },
            {
                category: "Sejarah Dunia",
                question: "Perang Seratus Tahun terjadi antara Inggris dan?",
                options: ["Prancis", "Spanyol", "Portugal", "Belanda"],
                answer: 0,
                fact: "Perang Seratus Tahun (1337-1453) adalah konflik bersenjata antara Inggris dan Prancis yang berlangsung selama 116 tahun. Penyebab utamanya adalah klaim Inggris atas takhta Prancis.",
                difficulty: "medium",
                hint: "Negara yang terkenal dengan menara Eiffel-nya."
            },
            {
                category: "Sejarah Dunia",
                question: "Siapa penemu mesin uap yang merevolusi industri?",
                options: ["James Watt", "Thomas Newcomen", "Thomas Edison", "Alexander Graham Bell"],
                answer: 0,
                fact: "James Watt adalah insinyur Skotlandia yang menyempurnakan mesin uap Newcomen pada tahun 1769. Penemuannya memainkan peran penting dalam Revolusi Industri.",
                difficulty: "easy",
                hint: "Namanya digunakan sebagai satuan daya listrik."
            },
            {
                category: "Sejarah Dunia",
                question: "Kekaisaran Romawi dibagi menjadi dua bagian pada tahun?",
                options: ["395 M", "476 M", "27 SM", "313 M"],
                answer: 0,
                fact: "Kekaisaran Romawi dibagi menjadi Kekaisaran Romawi Barat dan Timur pada tahun 395 M oleh Kaisar Theodosius I. Pembagian ini akhirnya menjadi permanen dan memicu perkembangan peradaban yang berbeda di kedua wilayah.",
                difficulty: "hard",
                hint: "Terjadi menjelang akhir abad ke-4 Masehi."
            },
            {
                category: "Sejarah Dunia",
                question: "Siapa pemimpin Jerman selama Perang Dunia I?",
                options: ["Kaiser Wilhelm II", "Adolf Hitler", "Otto von Bismarck", "Paul von Hindenburg"],
                answer: 0,
                fact: "Kaiser Wilhelm II adalah Kaisar Jerman dan Raja Prussia dari tahun 1888 hingga 1918. Kebijakan agresifnya berkontribusi terhadap pecahnya Perang Dunia I.",
                difficulty: "medium",
                hint: "Dia adalah cucu dari Ratu Victoria dari Inggris."
            },
            {
                category: "Sejarah Dunia",
                question: "Di mana Deklarasi Kemerdekaan Amerika ditandatangani?",
                options: ["Philadelphia", "Washington D.C.", "New York", "Boston"],
                answer: 0,
                fact: "Deklarasi Kemerdekaan Amerika ditandatangani di Independence Hall, Philadelphia pada tanggal 4 Juli 1776. Dokumen ini menyatakan tiga belas koloni Amerika merdeka dari Britania Raya.",
                difficulty: "easy",
                hint: "Kota yang dikenal dengan keju steak-nya."
            },
            {
                category: "Sejarah Dunia",
                question: "Siapa pemimpin revolusi Kuba?",
                options: ["Fidel Castro", "Che Guevara", "Raúl Castro", "Semua benar"],
                answer: 3,
                fact: "Revolusi Kuba (1953-1959) dipimpin oleh Fidel Castro, Che Guevara, Raúl Castro, dan para revolusioner lainnya yang berhasil menggulingkan pemerintahan diktator Fulgencio Batista.",
                difficulty: "medium",
                hint: "Termasuk seorang revolusioner terkenal dari Argentina."
            },
            {
                category: "Sejarah Dunia",
                question: "Kapan Tembok Berlin mulai dibangun?",
                options: ["1961", "1945", "1989", "1955"],
                answer: 0,
                fact: "Tembok Berlin mulai dibangun pada 13 Agustus 1961 oleh Jerman Timur untuk mencegah warganya melarikan diri ke Berlin Barat. Tembok ini menjadi simbol Perang Dingin dan akhirnya diruntuhkan pada 9 November 1989.",
                difficulty: "medium",
                hint: "Dibangun lebih dari 15 tahun setelah berakhirnya Perang Dunia II."
            },
            {
                category: "Sejarah Dunia",
                question: "Siapa penjelajah Eropa pertama yang mencapai India melalui laut?",
                options: ["Vasco da Gama", "Christopher Columbus", "Ferdinand Magellan", "Marco Polo"],
                answer: 0,
                fact: "Vasco da Gama adalah penjelajah Portugis yang pertama kali mencapai India melalui rute laut dari Eropa pada tahun 1498. Pelayarannya membuka jalur perdagangan langsung antara Eropa dan Asia.",
                difficulty: "medium",
                hint: "Dia berasal dari Portugal."
            },
            {
                category: "Sejarah Dunia",
                question: "Perang Dunia I berakhir dengan ditandatanganinya perjanjian?",
                options: ["Versailles", "Tordesillas", "Westphalia", "Paris"],
                answer: 0,
                fact: "Perang Dunia I secara resmi berakhir dengan ditandatanganinya Perjanjian Versailles pada tanggal 28 Juni 1919. Perjanjian ini menetapkan kondisi perdamaian dan sanksi terhadap Jerman sebagai pihak yang kalah perang.",
                difficulty: "medium",
                hint: "Perjanjian này ditandatangani di Prancis."
            },
            {
                category: "Sejarah Dunia",
                question: "Siapa filsuf Yunani kuno yang dihukum mati dengan minum racun?",
                options: ["Socrates", "Plato", "Aristoteles", "Pythagoras"],
                answer: 0,
                fact: "Socrates adalah filsuf Yunani kuno yang dihukum mati dengan minum racun hemlock pada tahun 399 SM. Ia dituduh merusak pemikiran pemuda Athena dan tidak mengakui dewa-dewa yang diakui negara.",
                difficulty: "medium",
                hint: "Gurunya adalah Plato."
            },
            {
                category: "Sejarah Dunia",
                question: "Kapan Revolusi Prancis dimulai?",
                options: ["1789", "1776", "1799", "1815"],
                answer: 0,
                fact: "Revolusi Prancis dimulai pada tahun 1789 dengan penyerbuan Penjara Bastille pada 14 Juli. Revolusi ini mengakhiri monarki absolut dan mengantarkan Prancis menjadi republik.",
                difficulty: "easy",
                hint: "Dimulai dengan penyerbuan sebuah penjara terkenal."
            },
            {
                category: "Sejarah Dunia",
                question: "Siapa pemimpin Mongol yang menaklukkan sebagian besar Asia dan Eropa?",
                options: ["Genghis Khan", "Kublai Khan", "Attila the Hun", "Tamerlane"],
                answer: 0,
                fact: "Genghis Khan adalah pendiri dan Kaisar pertama Kekaisaran Mongol yang memerintah dari tahun 1206 hingga 1227. Di bawah kepemimpinannya, Mongol menaklukkan sebagian besar Asia dan Eropa Timur, menciptakan kekaisaran terbesar dalam sejarah yang berdekatan.",
                difficulty: "medium",
                hint: "Nama aslinya adalah Temujin."
            },

            // Sejarah Islam (15 pertanyaan)
            {
                category: "Sejarah Islam",
                question: "Siapa khalifah pertama setelah wafatnya Nabi Muhammad?",
                options: ["Abu Bakar Ash-Shiddiq", "Umar bin Khattab", "Utsman bin Affan", "Ali bin Abi Thalib"],
                answer: 0,
                fact: "Abu Bakar Ash-Shiddiq adalah khalifah pertama dalam Islam yang memerintah dari tahun 632 hingga 634 M. Ia terpilih melalui musyawarah di Saqifah Bani Sa'idah setelah wafatnya Nabi Muhammad.",
                difficulty: "easy",
                hint: "Dia juga merupakan mertua Nabi Muhammad."
            },
            {
                category: "Sejarah Islam",
                question: "Pertempuran Badar terjadi pada tahun?",
                options: ["624 M", "625 M", "622 M", "630 M"],
                answer: 0,
                fact: "Pertempuran Badar terjadi pada 17 Ramadan tahun 2 Hijriah (13 Maret 624 M). Pertempuran ini adalah pertempuran besar pertama antara Muslim dari Madinah dan kaum Quraisy dari Mekkah.",
                difficulty: "medium",
                hint: "Terjadi di bulan Ramadan."
            },
            {
                category: "Sejarah Islam",
                question: "Siapa pendiri Dinasti Umayyah?",
                options: ["Muawiyah bin Abu Sufyan", "Utsman bin Affan", "Abdul Malik bin Marwan", "Yazid bin Muawiyah"],
                answer: 0,
                fact: "Muawiyah bin Abu Sufyan adalah pendiri Kekhalifahan Umayyah yang memerintah dari tahun 661 hingga 680 M. Ia memindahkan ibu kota kekhalifahan dari Kufah ke Damaskus.",
                difficulty: "medium",
                hint: "Dia sebelumnya menjadi gubernur Suriah."
            },
            {
                category: "Sejarah Islam",
                question: "Kitab hadis sahih yang disusun oleh Imam Bukhari bernama?",
                options: ["Sahih Bukhari", "Sunan Bukhari", "Al-Jami' as-Sahih", "Semua benar"],
                answer: 3,
                fact: "Imam Bukhari menyusun kitab hadis yang dikenal sebagai Sahih Bukhari, Sunan Bukhari, atau secara lengkap Al-Jami' as-Sahih. Kitab ini diakui sebagai kitab hadis paling sahih setelah Al-Qur'an.",
                difficulty: "hard",
                hint: "Sering disebut sebagai kitab hadis paling sahih."
            },
            {
                category: "Sejarah Islam",
                question: "Siapa sultan pertama Kesultanan Utsmaniyah?",
                options: ["Osman I", "Mehmed II", "Suleiman I", "Selim I"],
                answer: 0,
                fact: "Osman I adalah pendiri dan sultan pertama Kesultanan Utsmaniyah yang memerintah dari tahun 1299 hingga 1326. Namanya menjadi asal nama kesultanan ini (Utsmaniyah berasal dari Osman).",
                difficulty: "medium",
                hint: "Nama kesultanan ini diambil dari namanya."
            },
            {
                category: "Sejarah Islam",
                question: "Fathul Makkah (Pembebasan Mekkah) terjadi pada tahun?",
                options: ["630 M", "622 M", "632 M", "625 M"],
                answer: 0,
                fact: "Fathul Makkah (Pembebasan Mekkah) terjadi pada tahun 8 Hijriah (630 M). Peristiwa ini terjadi tanpa pertumpahan darah yang signifikan dan mengakhiri dominasi kaum Quraisy pagan atas Mekkah.",
                difficulty: "medium",
                hint: "Terjadi two years before the passing of Prophet Muhammad."
            },
            {
                category: "Sejarah Islam",
                question: "Siapa ilmuwan Muslim yang dikenal sebagai Bapak Aljabar?",
                options: ["Al-Khawarizmi", "Ibnu Sina", "Al-Farabi", "Ibnu Khaldun"],
                answer: 0,
                fact: "Muhammad bin Musa al-Khawarizmi adalah matematikawan, astronom, dan geografer Persia yang hidup pada abad ke-9. Karyanya 'Al-Kitab al-Mukhtasar fi Hisab al-Jabr wa'l-Muqabala' memperkenalkan aljabar ke dunia Barat.",
                difficulty: "medium",
                hint: "Nama belakangnya menjadi asal kata 'algoritma'."
            },
            {
                category: "Sejarah Islam",
                question: "Dinasti Abbasiyah didirikan oleh?",
                options: ["Abu al-Abbas as-Saffah", "Harun ar-Rasyid", "Al-Mansur", "Al-Ma'mun"],
                answer: 0,
                fact: "Abu al-Abbas as-Saffah adalah pendiri Kekhalifahan Abbasiyah yang memerintah dari tahun 750 hingga 754 M. Ia menggulingkan Kekhalifahan Umayyah dalam Revolusi Abbasiyah.",
                difficulty: "hard",
                hint: "Gelarnya 'as-Saffah' berarti 'yang menumpahkan darah'."
            },
            {
                category: "Sejarah Islam",
                question: "Masjid Al-Aqsa berada di kota?",
                options: ["Yerusalem", "Mekkah", "Madinah", "Baghdad"],
                answer: 0,
                fact: "Masjid Al-Aqsa berada di Kota Tua Yerusalem dan merupakan salah satu tempat suci dalam Islam. Masjid ini menjadi kiblat pertama umat Islam sebelum dipindahkan ke Ka'bah di Masjidil Haram, Mekkah.",
                difficulty: "easy",
                hint: "Kota yang juga dianggap suci oleh tiga agama Abrahamik."
            },
            {
                category: "Sejarah Islam",
                question: "Siapa panglima Muslim yang menaklukkan Spanyol?",
                options: ["Thariq bin Ziyad", "Musa bin Nushair", "Muhammad bin Qasim", "Shalahuddin al-Ayyubi"],
                answer: 0,
                fact: "Thariq bin Ziyad adalah panglima Muslim dari Kekhalifahan Umayyah yang memimpin penaklukan Visigoth di Hispania (Spanyol) pada tahun 711 M. Namanya diabadikan sebagai nama Gibraltar (Jabal Thariq).",
                difficulty: "medium",
                hint: "Namanya diabadikan sebagai nama selat antara Spanyol dan Maroko."
            },
            {
                category: "Sejarah Islam",
                question: "Perang Khandaq terjadi pada tahun?",
                options: ["627 M", "624 M", "625 M", "630 M"],
                answer: 0,
                fact: "Perang Khandaq (juga dikenal sebagai Pertempuran Parit) terjadi pada tahun 5 Hijriah (627 M). Pasukan Muslim di Madinah bertahan dengan menggali parit sebagai strategi pertahanan terhadap pasukan sekutu Quraisy yang mengepung kota.",
                difficulty: "hard",
                hint: "Juga dikenal sebagai Pertempuran Parit."
            },
            {
                category: "Sejarah Islam",
                question: "Siapa penulis kitab Ringkasan Sejarah Umum (Muqaddimah)?",
                options: ["Ibnu Khaldun", "Al-Ghazali", "Ibnu Taimiyah", "Ibnu Rusyd"],
                answer: 0,
                fact: "Ibnu Khaldun adalah sejarawan dan pemikir Muslim dari Tunisia yang menulis kitab Al-Muqaddimah (Pendahuluan) sebagai bagian dari karya besarnya Kitab al-Ibar. Karyanya dianggap sebagai fondasi ilmu sosiologi dan ekonomi modern.",
                difficulty: "hard",
                hint: "Dia dianggap sebagai bapak pendiri sosiologi dan ekonomi modern."
            },
            {
                category: "Sejarah Islam",
                question: "Kapan Nabi Muhammad melakukan hijrah dari Mekkah ke Madinah?",
                options: ["622 M", "620 M", "624 M", "630 M"],
                answer: 0,
                fact: "Nabi Muhammad melakukan hijrah dari Mekkah ke Madinah (dulu Yatsrib) pada tahun 622 M. Peristiwa ini menjadi titik awal penanggalan kalender Hijriah dalam Islam.",
                difficulty: "easy",
                hint: "Tahun ini menjadi awal penanggalan kalender Islam."
            },
            {
                category: "Sejarah Islam",
                question: "Siapa ibu susuan Nabi Muhammad?",
                options: ["Halimah as-Sa'diyah", "Aminah binti Wahb", "Khadijah binti Khuwailid", "Siti Hajar"],
                answer: 0,
                fact: "Halimah as-Sa'diyah dari Bani Sa'd adalah ibu susuan Nabi Muhammad. Seperti tradisi Arab saat itu, Muhammad kecil disusui dan dibesarkan di pedesaan untuk tumbuh dalam lingkungan yang sehat dan menguasai bahasa Arab yang fasih.",
                difficulty: "medium",
                hint: "Dia berasal dari kabilah Bani Sa'd."
            },
            {
                category: "Sejarah Islam",
                question: "Pertempuran Ain Jalut terjadi antara tentara Muslim melawan?",
                options: ["Mongol", "Bizantium", "Persia", "Tentara Salib"],
                answer: 0,
                fact: "Pertempuran Ain Jalut terjadi pada 3 September 1260 antara Kesultanan Mamluk Mesir melawan Kekaisaran Mongol. Kemenangan Mamluk dalam pertempuran ini menghentikan ekspansi Mongol ke Afrika dan menyelamatkan peradaban Islam.",
                difficulty: "hard",
                hint: "Lawan dalam pertempuran ini berasal dari Asia Tengah."
            }
        ];

        // Fakta sejarah acak untuk ditampilkan di hasil
        const historyFacts = [
            "Indonesia menyatakan kemerdekaannya pada 17 Agustus 1945, tetapi baru diakui secara internasional pada 27 Desember 1949.",
            "Perang Dunia I berlangsung dari 1914 hingga 1918 dan dikenal sebagai 'Perang Besar' sebelum terjadinya Perang Dunia II.",
            "Borobudur adalah candi Buddha terbesar di dunia, dibangun pada abad ke-9 di masa pemerintahan wangsa Syailendra.",
            "Revolusi Prancis (1789-1799) mengakhir monarki absolut di Prancis dan memengaruhi seluruh Eropa dengan ide-ide kebebasan dan kesetaraan.",
            "Sumpah Pemuda pada 28 Oktober 1928 merupakan deklarasi penting yang menegaskan cita-cita akan 'tanah air Indonesia, bangsa Indonesia, dan bahasa Indonesia'."
        ];

        // Variabel global
        let currentQuestion = 0;
        let score = 0;
        let selectedOption = null;
        let timeLeft = 30;
        let timer;
        let totalTime = 0;
        let correctAnswers = 0;
        let incorrectAnswers = 0;
        let skippedAnswers = 0;
        let lifelinesUsed = 0;
        let userAnswers = [];
        let selectedQuestions = [];
        let fiftyFiftyUsed = false;
        let skipQuestionUsed = false;
        let hintUsed = false;
        let selectedDifficulty = "medium";
        let correctStreak = 0;
        let bestStreak = 0;
        let startTime = 0;

        // Data statistik
        let quizStats = {
            totalQuizzes: 0,
            totalCorrect: 0,
            totalQuestions: 0,
            averageScore: 0,
            bestScore: 0
        };

        // Data achievements
        let achievements = {
            firstQuiz: false,
            perfectScore: false,
            speedRun: false
        };

        // Elemen DOM
        const startScreen = document.getElementById('start-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const resultScreen = document.getElementById('result-screen');
        const startBtn = document.getElementById('start-btn');
        const nextBtn = document.getElementById('next-btn');
        const restartBtn = document.getElementById('restart-btn');
        const backToStartBtn = document.getElementById('back-to-start-btn');
        const externalBackBtn = document.getElementById('external-back-btn');
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const currentQuestionElement = document.getElementById('current-question');
        const totalQuestionsElement = document.getElementById('total-questions');
        const progressBar = document.getElementById('progress-bar');
        const scoreElement = document.getElementById('score');
        const scoreMessage = document.getElementById('score-message');
        const timeLeftElement = document.getElementById('time-left');
        const notification = document.getElementById('notification');
        const questionCategory = document.getElementById('question-category');
        const correctAnswersElement = document.getElementById('correct-answers');
        const incorrectAnswersElement = document.getElementById('incorrect-answers');
        const skippedAnswersElement = document.getElementById('skipped-answers');
        const timeUsedElement = document.getElementById('time-used');
        const lifelinesUsedElement = document.getElementById('lifelines-used');
        const historyFactElement = document.getElementById('history-fact');
        const historyFactStart = document.getElementById('history-fact-start');
        const fiftyFiftyBtn = document.getElementById('fifty-fifty');
        const skipQuestionBtn = document.getElementById('skip-question');
        const hintBtn = document.getElementById('hint-btn');
        const hintContainer = document.getElementById('hint-container');
        const hintText = document.getElementById('hint-text');
        const themeToggle = document.getElementById('theme-toggle');
        const confirmationModal = document.getElementById('confirmation-modal');
        const modalCancel = document.getElementById('modal-cancel');
        const modalConfirm = document.getElementById('modal-confirm');
        const difficultyUsed = document.getElementById('difficulty-used');
        const totalQuizzesElement = document.getElementById('total-quizzes');
        const averageScoreElement = document.getElementById('average-score');
        const totalTimeElement = document.getElementById('total-time');
        const bestStreakElement = document.getElementById('best-streak');
        const difficultyBtns = document.querySelectorAll('.difficulty-btn');

        // Load data dari local storage
        function loadData() {
            const savedStats = localStorage.getItem('quizStats');
            const savedAchievements = localStorage.getItem('achievements');
            
            if (savedStats) {
                quizStats = JSON.parse(savedStats);
            }
            
            if (savedAchievements) {
                achievements = JSON.parse(savedAchievements);
            }
            
            updateStatsDisplay();
            updateAchievementsDisplay();
        }

        // Save data ke local storage
        function saveData() {
            localStorage.setItem('quizStats', JSON.stringify(quizStats));
            localStorage.setItem('achievements', JSON.stringify(achievements));
        }

        // Update tampilan statistik
        function updateStatsDisplay() {
            totalQuizzesElement.textContent = quizStats.totalQuizzes;
            averageScoreElement.textContent = quizStats.averageScore;
        }

        // Update tampilan achievements
        function updateAchievementsDisplay() {
            document.getElementById('achievement-1').classList.toggle('locked', !achievements.firstQuiz);
            document.getElementById('achievement-2').classList.toggle('locked', !achievements.perfectScore);
            document.getElementById('achievement-3').classList.toggle('locked', !achievements.speedRun);
        }

        // Fungsi untuk memilih pertanyaan berdasarkan kesulitan
        function selectQuestionsByDifficulty(difficulty) {
            // Filter pertanyaan berdasarkan tingkat kesulitan
            let filteredQuestions = questionBank.filter(q => q.difficulty === difficulty);
            
            // Jika tidak cukup pertanyaan untuk tingkat kesulitan yang dipilih,
            // tambahkan pertanyaan dari tingkat kesulitan lainnya
            if (filteredQuestions.length < 10) {
                const otherQuestions = questionBank.filter(q => q.difficulty !== difficulty);
                // Acak urutan pertanyaan lainnya
                otherQuestions.sort(() => Math.random() - 0.5);
                // Tambahkan pertanyaan hingga mencapai 10
                filteredQuestions = filteredQuestions.concat(otherQuestions.slice(0, 10 - filteredQuestions.length));
            }
            
            // Acak urutan pertanyaan
            filteredQuestions.sort(() => Math.random() - 0.5);
            
            // Ambil 10 pertanyaan pertama
            return filteredQuestions.slice(0, 10);
        }

        // Fungsi untuk memainkan suara
        function playSound(type) {
            try {
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                if (type === 'correct') {
                    oscillator.type = 'sine';
                    oscillator.frequency.value = 523.25; // C5
                    gainNode.gain.value = 0.2;
                } else if (type === 'incorrect') {
                    oscillator.type = 'sawtooth';
                    oscillator.frequency.value = 196.00; // G3
                    gainNode.gain.value = 0.1;
                } else if (type === 'complete') {
                    oscillator.type = 'sine';
                    oscillator.frequency.value = 783.99; // G5
                    gainNode.gain.value = 0.2;
                }
                
                oscillator.start();
                gainNode.gain.exponentialRampToValueAtTime(0.00001, audioContext.currentTime + 0.5);
                oscillator.stop(audioContext.currentTime + 0.5);
            } catch (e) {
                console.log('Web Audio API tidak didukung di browser ini');
            }
        }

        // Fungsi untuk membuat konfeti
        function createConfetti() {
            const celebration = document.createElement('div');
            celebration.className = 'celebration';
            document.body.appendChild(celebration);
            
            for (let i = 0; i < 100; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 50%)`;
                confetti.style.animationDuration = (Math.random() * 3 + 2) + 's';
                confetti.style.animationDelay = (Math.random() * 2) + 's';
                celebration.appendChild(confetti);
            }
            
            setTimeout(() => {
                document.body.removeChild(celebration);
            }, 5000);
        }

        // Inisialisasi kuis
        function initQuiz() {
            // Pilih pertanyaan berdasarkan tingkat kesulitan
            selectedQuestions = selectQuestionsByDifficulty(selectedDifficulty);
            
            currentQuestion = 0;
            score = 0;
            selectedOption = null;
            timeLeft = 30;
            totalTime = 0;
            correctAnswers = 0;
            incorrectAnswers = 0;
            skippedAnswers = 0;
            lifelinesUsed = 0;
            userAnswers = [];
            fiftyFiftyUsed = false;
            skipQuestionUsed = false;
            hintUsed = false;
            correctStreak = 0;
            bestStreak = 0;
            startTime = Date.now();
            
            // Reset lifelines
            fiftyFiftyBtn.disabled = false;
            skipQuestionBtn.disabled = false;
            hintBtn.disabled = false;
            hintContainer.style.display = 'none';
            
            totalQuestionsElement.textContent = selectedQuestions.length;
            externalBackBtn.style.display = 'block';
            showQuestion();
            startTimer();
        }

        // Tampilkan pertanyaan
        function showQuestion() {
            const question = selectedQuestions[currentQuestion];
            currentQuestionElement.textContent = currentQuestion + 1;
            questionText.textContent = question.question;
            questionCategory.textContent = question.category;
            
            // Tampilkan badge kesulitan
            const difficultyBadge = document.createElement('span');
            difficultyBadge.className = `difficulty-badge difficulty-${question.difficulty}`;
            difficultyBadge.textContent = question.difficulty === 'easy' ? 'Mudah' : (question.difficulty === 'medium' ? 'Sedang' : 'Sulit');
            questionCategory.appendChild(difficultyBadge);
            
            // Update progress bar
            progressBar.style.width = `${((currentQuestion + 1) / selectedQuestions.length) * 100}%`;
            
            // Kosongkan container opsi
            optionsContainer.innerHTML = '';
            
            // Tambahkan opsi jawaban
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.classList.add('option');
                optionElement.innerHTML = `<span>${String.fromCharCode(65 + index)}.</span> ${option}`;
                optionElement.dataset.index = index;
                optionElement.style.animationDelay = `${index * 0.1}s`;
                optionElement.addEventListener('click', selectOption);
                
                // Tandai jawaban sebelumnya jika ada
                if (userAnswers[currentQuestion] !== undefined && userAnswers[currentQuestion] === index) {
                    optionElement.classList.add('selected');
                    selectedOption = index;
                    nextBtn.disabled = false;
                }
                
                optionsContainer.appendChild(optionElement);
            });
            
            // Nonaktifkan tombol next sampai opsi dipilih (kecuali sudah dipilih sebelumnya)
            if (userAnswers[currentQuestion] === undefined) {
                nextBtn.disabled = true;
            }
        }

        // Pilih opsi jawaban
        function selectOption(e) {
            // Hapus seleksi sebelumnya
            const options = document.querySelectorAll('.option');
            options.forEach(option => {
                option.classList.remove('selected');
            });
            
            // Tandai opsi yang dipilih
            e.target.classList.add('selected');
            selectedOption = parseInt(e.target.dataset.index);
            
            // Simpan jawaban pengguna
            userAnswers[currentQuestion] = selectedOption;
            
            // Aktifkan tombol next
            nextBtn.disabled = false;
        }

        // Periksa jawaban
        function checkAnswer() {
            clearInterval(timer);
            
            const options = document.querySelectorAll('.option');
            const correctIndex = selectedQuestions[currentQuestion].answer;
            
            // Tandai jawaban yang benar
            options[correctIndex].classList.add('correct');
            
            // Jika jawaban salah, tandai sebagai salah
            if (selectedOption !== correctIndex) {
                options[selectedOption].classList.add('incorrect');
                incorrectAnswers++;
                correctStreak = 0;
                playSound('incorrect');
                showNotification("Salah! Jawaban benar: " + selectedQuestions[currentQuestion].options[correctIndex], false);
            } else {
                score += Math.round(100 / selectedQuestions.length);
                correctAnswers++;
                correctStreak++;
                if (correctStreak > bestStreak) bestStreak = correctStreak;
                playSound('correct');
                showNotification("Benar! +" + Math.round(100 / selectedQuestions.length) + " poin", true);
            }
            
            // Nonaktifkan tombol next sampai navigasi
            nextBtn.disabled = true;
        }

        // Tampilkan notifikasi
        function showNotification(message, isCorrect) {
            notification.textContent = message;
            notification.className = "notification";
            notification.classList.add(isCorrect ? "correct" : "incorrect");
            notification.classList.add("show");
            
            setTimeout(() => {
                notification.classList.remove("show");
            }, 3000);
        }

        // Timer untuk setiap pertanyaan
        function startTimer() {
            timeLeft = 30;
            timeLeftElement.textContent = timeLeft;
            
            clearInterval(timer);
            timer = setInterval(() => {
                timeLeft--;
                timeLeftElement.textContent = timeLeft;
                totalTime++;
                
                if (timeLeft <= 0) {
                    clearInterval(timer);
                    // Otomatis lanjut ke pertanyaan berikutnya
                    nextQuestion();
                }
            }, 1000);
        }

        // Lanjut ke pertanyaan berikutnya
        function nextQuestion() {
            clearInterval(timer);
            
            // Jika pengguna sudah memilih jawaban, periksa
            if (userAnswers[currentQuestion] !== undefined) {
                checkAnswer();
                setTimeout(() => {
                    navigateToQuestion(currentQuestion + 1);
                }, 1500);
            } else {
                navigateToQuestion(currentQuestion + 1);
            }
        }

        // Navigasi ke pertanyaan
        function navigateToQuestion(index) {
            if (index < selectedQuestions.length) {
                currentQuestion = index;
                showQuestion();
                startTimer();
                // Reset hint untuk pertanyaan baru
                hintContainer.style.display = 'none';
                hintUsed = false;
            } else {
                showResult();
            }
        }

        // Kembali ke layar awal
        function backToStart() {
            clearInterval(timer);
            quizScreen.style.display = 'none';
            resultScreen.style.display = 'none';
            startScreen.style.display = 'block';
            externalBackBtn.style.display = 'none';
        }

        // Tampilkan hasil kuis
        function showResult() {
            const totalTimeSpent = Math.round((Date.now() - startTime) / 1000);
            
            quizScreen.style.display = 'none';
            resultScreen.style.display = 'block';
            externalBackBtn.style.display = 'none';
            scoreElement.textContent = score;
            
            correctAnswersElement.textContent = correctAnswers;
            incorrectAnswersElement.textContent = incorrectAnswers;
            skippedAnswersElement.textContent = skippedAnswers;
            timeUsedElement.textContent = totalTimeSpent;
            lifelinesUsedElement.textContent = lifelinesUsed;
            totalTimeElement.textContent = totalTimeSpent + ' detik';
            bestStreakElement.textContent = bestStreak;
            
            // Tentukan teks untuk tingkat kesulitan
            const difficultyText = selectedDifficulty === 'easy' ? 'Mudah' : (selectedDifficulty === 'medium' ? 'Sedang' : 'Sulit');
            difficultyUsed.textContent = difficultyText;
            
            // Tampilkan fakta sejarah acak
            const randomFact = historyFacts[Math.floor(Math.random() * historyFacts.length)];
            historyFactElement.textContent = randomFact;
            
            // Tampilkan pesan berdasarkan skor
            if (score >= 90) {
                scoreMessage.innerHTML = "Luar biasa! Anda benar-benar ahli sejarah! <div class='badge correct'>Master Sejarah</div>";
                playSound('complete');
                createConfetti();
                
                // Unlock achievement nilai sempurna
                if (!achievements.perfectScore) {
                    achievements.perfectScore = true;
                    showNotification("Pencapaian terbuka: Nilai Sempurna!", true);
                }
            } else if (score >= 70) {
                scoreMessage.innerHTML = "Bagus! Pengetahuan sejarah Anda sangat baik. <div class='badge correct'>Ahli Sejarah</div>";
            } else if (score >= 40) {
                scoreMessage.innerHTML = "Lumayan! Tingkatkan lagi pengetahuan sejarah Anda. <div class='badge incorrect'>Pencinta Sejarah</div>";
            } else {
                scoreMessage.innerHTML = "Anda perlu belajar lebih banyak tentang sejarah. <div class='badge incorrect'>Pemula</div>";
            }
            
            // Unlock achievement pertama kali
            if (!achievements.firstQuiz) {
                achievements.firstQuiz = true;
                showNotification("Pencapaian terbuka: Pertama Kali!", true);
            }
            
            // Unlock achievement cepat tangkas jika waktu kurang dari 5 menit
            if (totalTimeSpent < 300 && !achievements.speedRun) {
                achievements.speedRun = true;
                showNotification("Pencapaian terbaku: Cepat Tangkas!", true);
            }
            
            // Update statistik
            updateStats(totalTimeSpent);
            
            // Save data
            saveData();
            
            // Update tampilan achievements
            updateAchievementsDisplay();
        }

        // Update statistik setelah kuis
        function updateStats(timeSpent) {
            quizStats.totalQuizzes++;
            quizStats.totalCorrect += correctAnswers;
            quizStats.totalQuestions += selectedQuestions.length;
            quizStats.averageScore = Math.round((quizStats.totalCorrect / quizStats.totalQuestions) * 100);
            
            if (score > quizStats.bestScore) {
                quizStats.bestScore = score;
            }
            
            updateStatsDisplay();
        }

        // Fungsi bantuan 50:50
        function useFiftyFifty() {
            if (fiftyFiftyUsed) return;
            
            const correctIndex = selectedQuestions[currentQuestion].answer;
            const options = document.querySelectorAll('.option');
            let removedCount = 0;
            
            // Acak indeks opsi yang akan dihilangkan (bukan jawaban benar)
            const indices = [0, 1, 2, 3].filter(i => i !== correctIndex);
            while (removedCount < 2 && indices.length > 0) {
                const randomIndex = Math.floor(Math.random() * indices.length);
                const optionToRemove = indices.splice(randomIndex, 1)[0];
                
                options[optionToRemove].style.opacity = '0.3';
                options[optionToRemove].style.pointerEvents = 'none';
                removedCount++;
            }
            
            fiftyFiftyUsed = true;
            fiftyFiftyBtn.disabled = true;
            lifelinesUsed++;
        }

        // Fungsi skip pertanyaan
        function useSkipQuestion() {
            if (skipQuestionUsed) return;
            
            skippedAnswers++;
            userAnswers[currentQuestion] = -1; // Tandai sebagai dilewati
            navigateToQuestion(currentQuestion + 1);
            
            skipQuestionUsed = true;
            skipQuestionBtn.disabled = true;
            lifelinesUsed++;
        }

        // Fungsi hint
        function useHint() {
            if (hintUsed) return;
            
            const question = selectedQuestions[currentQuestion];
            hintText.textContent = question.hint;
            hintContainer.style.display = 'block';
            
            hintUsed = true;
            hintBtn.disabled = true;
            lifelinesUsed++;
        }

        // Event listeners
        startBtn.addEventListener('click', () => {
            startScreen.style.display = 'none';
            quizScreen.style.display = 'block';
            initQuiz();
        });

        nextBtn.addEventListener('click', nextQuestion);

        // Mengubah fungsi tombol kembali untuk menampilkan konfirmasi
        externalBackBtn.addEventListener('click', () => {
            confirmationModal.classList.add('show');
        });

        modalCancel.addEventListener('click', () => {
            confirmationModal.classList.remove('show');
        });

        modalConfirm.addEventListener('click', () => {
            confirmationModal.classList.remove('show');
            backToStart();
        });

        restartBtn.addEventListener('click', () => {
            resultScreen.style.display = 'none';
            quizScreen.style.display = 'block';
            initQuiz();
        });

        backToStartBtn.addEventListener('click', backToStart);

        // Event listener untuk lifelines
        fiftyFiftyBtn.addEventListener('click', useFiftyFifty);
        skipQuestionBtn.addEventListener('click', useSkipQuestion);
        hintBtn.addEventListener('click', useHint);

        // Event listener untuk toggle theme
        themeToggle.addEventListener('click', () => {
            document.body.classList.toggle('dark-mode');
            if (document.body.classList.contains('dark-mode')) {
                themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
            } else {
                themeToggle.innerHTML = '<i class="fas fa-moon"></i>';
            }
        });

        // Event listener untuk pemilihan tingkat kesulitan
        difficultyBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                selectedDifficulty = btn.dataset.difficulty;
                difficultyBtns.forEach(b => b.classList.remove('pulse'));
                btn.classList.add('pulse');
            });
        });

        // Pilih fakta sejarah acak untuk ditampilkan di layar awal
        window.addEventListener('load', () => {
            const randomFact = historyFacts[Math.floor(Math.random() * historyFacts.length)];
            historyFactStart.textContent = randomFact;
            
            // Load data dari local storage
            loadData();
            
            // Set tingkat kesulitan default
            selectedDifficulty = "medium";
            document.querySelector('[data-difficulty="medium"]').classList.add('pulse');
        });
    </script>
    <script>
// ... kode JavaScript yang sudah ada ...

// Fungsi untuk berbagi hasil kuis
function shareQuizResults(platform) {
    const score = document.getElementById('score').textContent;
    const message = `Saya baru saja mendapatkan skor ${score} dalam Kuis Sejarah Lengkap! Coba tantangan ini dan lihat seberapa banyak yang Anda ketahui tentang sejarah.`;
    const url = window.location.href; // URL saat ini
    
    if (platform === 'web-share') {
        // Menggunakan Web Share API jika tersedia (biasanya di mobile)
        if (navigator.share) {
            navigator.share({
                title: 'Hasil Kuis Sejarah Lengkap',
                text: message,
                url: url
            })
            .then(() => console.log('Berhasil berbagi'))
            .catch((error) => console.log('Error berbagi:', error));
        } else {
            // Fallback untuk desktop - salin ke clipboard
            copyToClipboard(`${message} ${url}`);
            showNotification("Tautan hasil kuis telah disalin ke clipboard!", true);
        }
    } else {
        // Berbagi ke platform spesifik
        let shareUrl;
        
        switch(platform) {
            case 'facebook':
                shareUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}&quote=${encodeURIComponent(message)}`;
                break;
            case 'twitter':
                shareUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(message)}&url=${encodeURIComponent(url)}`;
                break;
            case 'whatsapp':
                shareUrl = `https://wa.me/?text=${encodeURIComponent(message + ' ' + url)}`;
                break;
        }
        
        // Buka jendela baru untuk berbagi
        window.open(shareUrl, '_blank', 'width=600,height=400');
    }
}

// Fungsi untuk menyalin teks ke clipboard
function copyToClipboard(text) {
    const textarea = document.createElement('textarea');
    textarea.value = text;
    document.body.appendChild(textarea);
    textarea.select();
    document.execCommand('copy');
    document.body.removeChild(textarea);
}

// Event listener untuk tombol berbagi
document.querySelectorAll('.share-btn').forEach(btn => {
    btn.addEventListener('click', (e) => {
        e.preventDefault();
        
        // Deteksi platform dari kelas tombol
        let platform;
        if (btn.classList.contains('twitter')) {
            platform = 'twitter';
        } else if (btn.classList.contains('whatsapp')) {
            platform = 'whatsapp';
        } else {
            platform = 'facebook';
        }
        
        shareQuizResults(platform);
    });
});

// Tambahkan juga tombol berbagi universal
const universalShareBtn = document.createElement('button');
universalShareBtn.className = 'btn share-btn';
universalShareBtn.innerHTML = '<i class="fas fa-share-alt"></i> Bagikan';
universalShareBtn.addEventListener('click', () => {
    shareQuizResults('web-share');
});

// Tambahkan tombol universal ke container share
document.querySelector('.share-container').appendChild(universalShareBtn);

// ... kode JavaScript lainnya yang sudah ada ...
</script>
</body>
</html>